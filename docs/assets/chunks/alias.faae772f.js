import{e as l}from"./emoji.51829739.js";import{n as f,i as p,F as d,d as v}from"../app.accfd2cd.js";import"./day.d477e0f1.js";import{h,al as _,D as g,i as j,A as y}from"./framework.d2839b17.js";import"./theme.48aba2ee.js";const D=h({name:"comment",__name:"alias",setup(T){const r=_({user:{},emoji:l,comments:[],showLevel:!1,showHomeLink:!1,showAddress:!1,showLikes:!1});function s(e,t){if(f(e))return e.forEach(a=>{s(a,t)}),e;if(p(e)){if(e.reply){let a=e.reply.list;a&&a.length>0&&s(a,t)}return t(e),e}}const o=[{id:"1",parentId:null,uid:"1",content:"等闲识得东风面，万紫千红总是春。",createTime:"2023-04-30 16:22",user:{name:"团团喵喵",avatar:"https://static.juzicon.com/user/avatar-23ac4bfe-ae93-4e0b-9f13-f22f22c7fc12-221001003441-Y0MB.jpeg",homeLink:""},reply:{total:1,list:[{id:"11",parentId:1,uid:"1",content:"[微笑]",createTime:"2023-04-30 16:22",user:{name:"团团喵喵",avatar:"https://static.juzicon.com/user/avatar-23ac4bfe-ae93-4e0b-9f13-f22f22c7fc12-221001003441-Y0MB.jpeg"}}]}},{id:"2",parentId:null,uid:"2",content:"长风破浪会有时，直挂云帆济沧海。",createTime:"2023-04-28 09:00",user:{name:"且美且独立",avatar:"https://static.juzicon.com/avatars/avatar-20200926115919-a45y.jpeg"}}];setTimeout(()=>{r.user={id:1,username:"jack",avatar:"https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100"},r.comments=s(o,e=>e.user.username=e.user.name)},500);let n=100;const i=({content:e,parentId:t,files:a,finish:m})=>{console.log("提交评论: "+e,t,a);const u={id:String(n+=1),parentId:t,uid:r.user.id,content:e,createTime:new Date().toString(),user:{username:r.user.username,avatar:r.user.avatar},reply:null};setTimeout(()=>{m(u),d({message:"评论成功!",type:"info"})},200)};function c(e){e.createTime=v(e.createTime).fromNow()}return(e,t)=>{const a=g("u-comment");return j(),y(a,{config:r,onSubmit:i,onBeforeData:c},null,8,["config"])}}});export{D as default};
